<main>

    <div class="form__container">

        <app-encabezado></app-encabezado>

        <!-- ------------------------   -->
        <!-- Log in Form                -->
        <!-- ------------------------   -->
        <form [formGroup]="form" *ngIf="showFormLogin()" class="form__inputs">

            <div class="campo">
                <input type="text" id={{formLabels.username}} name={{formLabels.username}} formControlName={{formLabels.username}}>
                <label for={{formLabels.username}}>Username</label>
                <div class="input__required" *ngIf="warning(formLabels.username)">
                    <span *ngIf="this.form.controls[formLabels.username].errors?.['required']">* Required</span>
                    <span *ngIf="this.form.controls[formLabels.username].errors?.['maxlength']">* Max {{this.formRestrictions.USERNAME_MAX}} characters</span>
                </div>
            </div>

            <div class="campo">
                <input type="password" id={{formLabels.password}}  name={{formLabels.password}} formControlName={{formLabels.password}} >
                <label for={{formLabels.password}}  >Password</label>
                <div class="input__required" *ngIf="warning(formLabels.password)">
                    <span *ngIf="this.form.controls[formLabels.password].errors?.['required']">* Required</span>
                    <span *ngIf="this.form.controls[formLabels.password].errors?.['maxlength']">* Max {{this.formRestrictions.PASSWORD_MAX}} characters</span>
                </div>
            </div>
            <div class="actions">
                <button class="btn btn__signIn" (click)="request()" [disabled]="!this.form.valid" [attr.data-testid]="'login'" [ngClass]="{'btn__valid': form.valid, 'btn__invalid': !form.valid}">Login</button>
                <button class="btn btn__createAccount" (click)="changeToCreateAccount()">New account</button>
                <button class="btn btn__passwordRecovery" (click)="changeToPasswordRecovery()">Password Recovery</button>
            </div>
        
        </form>

        <app-new-account-form *ngIf="showFormCreateAccount()">
        </app-new-account-form>

        <app-password-recovery-form *ngIf="showFormPasswordRecovery()">
        </app-password-recovery-form>

        <div class="actions" *ngIf="!showFormLogin()">
            <button class="btn btn__createAccount" (click)="changeToLogin()">Back to login</button>
        </div>
        
    </div>
</main>